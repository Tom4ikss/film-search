# Movies Search

## Установка

git clone https://github.com/Tom4ikss/film-search
cd ./film-list
pnpm i
pnpm run dev

### ИЛИ

https://film-search-i9ulrze2a-tom4ikss-projects.vercel.app/

попозже сменю тут токен в верселе чтобы пожил подольше

## Конфиги и окружение

Токен для API есть в env.local (не в env.default потому что вит сам его не подгружает)
Токен вроде еще жив но лучше вставить свой

Конфиги лучше не трогать вообще никакие это может плохо кончится :)
Не все вынесно в конфиг, что стоило для избежания лишних ошибок от их изменения

## Кеширование

Планировалось одно но получилось чуть другое

### Что есть

Между сессиями хранятся только избранные фильмы

Во время сессии хранятся текущие фильтры страница с фильмами и состояние скрола
TanstackQuery хранит последнюю и предпослежнюю загруженные пользователем страницы
чтобы не ломать при этом высоту у react-window используются скелеты карточек с фильмами
также там хранятся детальные карточки фильмов которые открывались хоть раз

### Что планировалось 

Планировалось первую страницу хранить в localStorage а две последних в sessionStorage
(не просто две последних а именно ту на которая была во вьюпорте предыдущая и может даже следующая если загружена)
но там столько приколов что это не сделал ( квери меня переиграл )

Префетч при наведении на карточку фильма (скоро будет)
и удаление ненужных страниц 
для этого уже есть написаны хуки но там свои трудности


## ui

дефолтный mui ничего такого
стили в index.css просто нужны :)

## архитектура

лучше не трогать пока работает ))))
+- такие мыли были пока писал

## Нюансы

на самом деле много но если не углубляться
основная проблема очевидно это быстрые скролы вперед назад
и то что будет после них
( кстати нету кастомного Error Boundary :) )


